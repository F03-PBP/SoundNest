{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>SIGNUP</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            #message-popup {
                transition: opacity 0.5s ease-out;
            }
        </style>
    </head>

    <body class="h-screen bg-[#F9F1E7]">
        {% if messages %}
        <div id="message-popup" class="fixed top-5 left-1/2 transform -translate-x-1/2 z-50">
            {% for message in messages %}
            <div class="bg-red-400 rounded-full text-red-700 px-12 py-3 rounded relative mb-4 text-white" role="alert">
                <span class="block sm:inline">{{ message }}</span>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <div class="lg:hidden">
            <div class="z-5 flex justify-center">
                <div class="z-0 absolute top-[-4rem] left-1/2 transform -translate-x-1/2 w-full h-[45%] bg-[#FCE2CE] rounded-b-full"></div>
                <div class="relative z-6 p-6 w-[90%]">
                    <h1 class="text-5xl text-[#553922] font-bold pt-24 pb-52 md:pb-[25rem] text-center">Sign Up</h1>
                    <img src="{% static 'images/person.png' %}" alt="Login Image" class="absolute top-44 left-1/2 transform -translate-x-1/2 w-[45%] mb-4"/>
            
                    <form method="POST" class="space-y-7">
                        {% csrf_token %}
                        <div class="relative mb-4">
                            <label for="username_mobile" class="absolute -top-2 left-7 text-sm px-3 bg-[#F9F1E7] text-gray-700">Username</label>
                            <input type="text" id="username_mobile" name="username" class="w-full py-3 px-7 text-sm border border-gray-400 rounded-full bg-[#F9F1E7]" required placeholder="Enter your username">
                        </div>
            
                        <div class="relative mb-4">
                            <label for="password_mobile" class="absolute -top-2 left-7 text-sm px-3 bg-[#F9F1E7] text-gray-700">Password</label>
                            <input type="password" id="password_mobile" name="password1" class="w-full py-3 px-7 text-sm border border-gray-400 rounded-full bg-[#F9F1E7]" required placeholder="Enter your password">
                            <span class="absolute right-4 top-1/2 transform -translate-y-1/2 cursor-pointer" onclick="togglePasswordMobile()">
                                <svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L5.64526 6.35237C3.97039 7.49178 2.72334 9.27383 2.28011 11.3979C2.22371 11.6682 2.39712 11.9331 2.66744 11.9895C2.93776 12.0459 3.20262 11.8725 3.25903 11.6021C3.66284 9.66698 4.82362 8.06289 6.3671 7.07421L7.94894 8.65604C7.06509 9.29133 6.48947 10.3284 6.48947 11.5C6.48947 13.433 8.05647 15 9.98947 15C11.161 15 12.1981 14.4244 12.8334 13.5405L17.1464 17.8536C17.3417 18.0488 17.6583 18.0488 17.8536 17.8536C18.0488 17.6583 18.0488 17.3417 17.8536 17.1464L2.85355 2.14645Z" fill="#212121"/>
                                    <path d="M10.1238 8.00253L13.4869 11.3657C13.418 9.5395 11.95 8.07143 10.1238 8.00253Z" fill="#212121"/>
                                    <path d="M7.53104 5.4098L8.3341 6.21286C8.87141 6.07353 9.43009 6 9.99995 6C13.2056 6 16.0574 8.32688 16.7409 11.6021C16.7973 11.8725 17.0622 12.0459 17.3325 11.9895C17.6028 11.933 17.7762 11.6682 17.7198 11.3979C16.9425 7.67312 13.6934 5 9.99995 5C9.14478 5 8.31342 5.14331 7.53104 5.4098Z" fill="#212121"/>
                                </svg>
                            </span>
                        </div>

                        <div class="relative mb-4">
                            <label for="confirm_password_mobile" class="absolute -top-2 left-7 text-sm px-3 bg-[#F9F1E7] text-gray-700">Confirm Password</label>
                            <input type="password" id="confirm_password_mobile" name="password2" class="w-full py-3 px-7 text-sm border border-gray-400 rounded-full bg-[#F9F1E7]" required placeholder="Confirm your password">
                            <span class="absolute right-4 top-1/2 transform -translate-y-1/2 cursor-pointer" onclick="toggleConfirmPasswordMobile()">
                                <svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L5.64526 6.35237C3.97039 7.49178 2.72334 9.27383 2.28011 11.3979C2.22371 11.6682 2.39712 11.9331 2.66744 11.9895C2.93776 12.0459 3.20262 11.8725 3.25903 11.6021C3.66284 9.66698 4.82362 8.06289 6.3671 7.07421L7.94894 8.65604C7.06509 9.29133 6.48947 10.3284 6.48947 11.5C6.48947 13.433 8.05647 15 9.98947 15C11.161 15 12.1981 14.4244 12.8334 13.5405L17.1464 17.8536C17.3417 18.0488 17.6583 18.0488 17.8536 17.8536C18.0488 17.6583 18.0488 17.3417 17.8536 17.1464L2.85355 2.14645Z" fill="#212121"/>
                                    <path d="M10.1238 8.00253L13.4869 11.3657C13.418 9.5395 11.95 8.07143 10.1238 8.00253Z" fill="#212121"/>
                                    <path d="M7.53104 5.4098L8.3341 6.21286C8.87141 6.07353 9.43009 6 9.99995 6C13.2056 6 16.0574 8.32688 16.7409 11.6021C16.7973 11.8725 17.0622 12.0459 17.3325 11.9895C17.6028 11.933 17.7762 11.6682 17.7198 11.3979C16.9425 7.67312 13.6934 5 9.99995 5C9.14478 5 8.31342 5.14331 7.53104 5.4098Z" fill="#212121"/>
                                </svg>
                            </span>
                        </div>                        

                        <button type="submit" class="w-full bg-[#FCE2CE] font-semibold text-[#92613A] py-3 text-sm rounded-full">Create Account</button>
    
                        <div class="flex space-x-1 justify-center">
                            <p class="text-sm text-[#553922] opacity-70">Already have an account?</p> 
                            <a href="{% url 'authentication:login_page' %}" class="text-sm font-bold text-[#C3824E] cursor-pointer">Login</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="max-lg:hidden flex items-center h-screen px-44">
            <div>
                <h1 class="text-5xl text-[#553922] font-bold pt-24 pb-12 text-center">Create Account</h1>

                <form method="POST" class="space-y-7">
                    {% csrf_token %}
                    <div class="relative mb-4">
                        <label for="username_desktop" class="absolute -top-2 left-7 text-base px-3 bg-[#F9F1E7] text-gray-700">Username</label>
                        <input type="text" id="username_desktop" name="username" class="w-full py-4 px-10 text-base border border-gray-400 rounded-full bg-[#F9F1E7]" required placeholder="Enter your username">
                    </div>
        
                    <div class="relative mb-4">
                        <label for="password_desktop" class="absolute -top-2 left-7 text-base px-3 bg-[#F9F1E7] text-gray-700">Password</label>
                        <input type="password" id="password_desktop" name="password1" class="w-full py-4 px-10 text-base border border-gray-400 rounded-full bg-[#F9F1E7]" required placeholder="Enter your password">
                        <span class="absolute right-4 top-1/2 transform -translate-y-1/2 cursor-pointer" onclick="togglePasswordDesktop()">
                            <svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg">
                                <path d="M2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L5.64526 6.35237C3.97039 7.49178 2.72334 9.27383 2.28011 11.3979C2.22371 11.6682 2.39712 11.9331 2.66744 11.9895C2.93776 12.0459 3.20262 11.8725 3.25903 11.6021C3.66284 9.66698 4.82362 8.06289 6.3671 7.07421L7.94894 8.65604C7.06509 9.29133 6.48947 10.3284 6.48947 11.5C6.48947 13.433 8.05647 15 9.98947 15C11.161 15 12.1981 14.4244 12.8334 13.5405L17.1464 17.8536C17.3417 18.0488 17.6583 18.0488 17.8536 17.8536C18.0488 17.6583 18.0488 17.3417 17.8536 17.1464L2.85355 2.14645Z" fill="#212121"/>
                                    <path d="M10.1238 8.00253L13.4869 11.3657C13.418 9.5395 11.95 8.07143 10.1238 8.00253Z" fill="#212121"/>
                                    <path d="M7.53104 5.4098L8.3341 6.21286C8.87141 6.07353 9.43009 6 9.99995 6C13.2056 6 16.0574 8.32688 16.7409 11.6021C16.7973 11.8725 17.0622 12.0459 17.3325 11.9895C17.6028 11.933 17.7762 11.6682 17.7198 11.3979C16.9425 7.67312 13.6934 5 9.99995 5C9.14478 5 8.31342 5.14331 7.53104 5.4098Z" fill="#212121"/>
                                </svg>
                        </span>
                    </div>

                    <div class="relative mb-4">
                        <label for="confirm_password_desktop" class="absolute -top-2 left-7 text-base px-3 bg-[#F9F1E7] text-gray-700">Confirm Password</label>
                        <input type="password" id="confirm_password_desktop" name="password2" class="w-full py-4 px-10 text-base border border-gray-400 rounded-full bg-[#F9F1E7]" required placeholder="Confirm your password">
                        <span class="absolute right-4 top-1/2 transform -translate-y-1/2 cursor-pointer" onclick="toggleConfirmPasswordDesktop()">
                            <svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg">
                                <path d="M2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L5.64526 6.35237C3.97039 7.49178 2.72334 9.27383 2.28011 11.3979C2.22371 11.6682 2.39712 11.9331 2.66744 11.9895C2.93776 12.0459 3.20262 11.8725 3.25903 11.6021C3.66284 9.66698 4.82362 8.06289 6.3671 7.07421L7.94894 8.65604C7.06509 9.29133 6.48947 10.3284 6.48947 11.5C6.48947 13.433 8.05647 15 9.98947 15C11.161 15 12.1981 14.4244 12.8334 13.5405L17.1464 17.8536C17.3417 18.0488 17.6583 18.0488 17.8536 17.8536C18.0488 17.6583 18.0488 17.3417 17.8536 17.1464L2.85355 2.14645Z" fill="#212121"/>
                                    <path d="M10.1238 8.00253L13.4869 11.3657C13.418 9.5395 11.95 8.07143 10.1238 8.00253Z" fill="#212121"/>
                                    <path d="M7.53104 5.4098L8.3341 6.21286C8.87141 6.07353 9.43009 6 9.99995 6C13.2056 6 16.0574 8.32688 16.7409 11.6021C16.7973 11.8725 17.0622 12.0459 17.3325 11.9895C17.6028 11.933 17.7762 11.6682 17.7198 11.3979C16.9425 7.67312 13.6934 5 9.99995 5C9.14478 5 8.31342 5.14331 7.53104 5.4098Z" fill="#212121"/>
                                </svg>
                        </span>
                    </div>   
        
                    <button type="submit" class="w-full bg-[#FCE2CE] font-semibold text-[#92613A] py-4 px-10 text-base rounded-full">Create Account</button>

                    <div class="flex space-x-1 py-4 justify-center">
                        <p class="text-sm text-[#553922] opacity-70">Already have an account?</p> 
                        <a href="{% url 'authentication:login_page' %}" class="text-sm font-bold text-[#C3824E] cursor-pointer">Login</a>
                    </div>
                </form>
            </div>

            <div>
                <div class="z-0 absolute bottom-0 right-[30rem] transform translate-x-1/2 w-1/3 h-[85%] bg-[#FCE2CE] rounded-t-full"></div>
                <img src="{% static 'images/person.png' %}" alt="Login Image" class="absolute top-[23rem] right-[13rem] transform -translate-x-1/2 w-[28%] mb-4"/>
            </div>
        </div>

    </body>

    <script>
        function togglePasswordMobile() {
            const passwordInput = document.getElementById('password_mobile');
            passwordInput.type = passwordInput.type === 'password' ? 'text' : 'password';
        }

        function toggleConfirmPasswordMobile() {
            const confirmPasswordInput = document.getElementById('confirm_password_mobile');
            confirmPasswordInput.type = confirmPasswordInput.type === 'password' ? 'text' : 'password';
        }

        function togglePasswordDesktop() {
            const passwordInput = document.getElementById('password_desktop');
            passwordInput.type = passwordInput.type === 'password' ? 'text' : 'password';
        }

        function toggleConfirmPasswordDesktop() {
            const confirmPasswordInput = document.getElementById('confirm_password_desktop');
            confirmPasswordInput.type = confirmPasswordInput.type === 'password' ? 'text' : 'password';
        }

        setTimeout(function() {
            var messagePopup = document.getElementById('message-popup');
            if (messagePopup) {
                messagePopup.style.opacity = '0';
                setTimeout(function() {
                    messagePopup.style.display = 'none';
                }, 500);  // Ensures smooth transition after fade out
            }
        }, 5000);
    </script>
</html>
